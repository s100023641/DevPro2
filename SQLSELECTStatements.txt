--
-- WIP select data for monthly, currently making a better version
--

SELECT OrderItem.OrderNum, COUNT(OrderItem.ItemID) as ItemSales, StockableItems.Name, OrderItem.ItemAmount, OrderItem.Price, SUM(Price) as TotalSales, OrderSale.Timestamp
FROM OrderItem
INNER JOIN OrderSale
ON OrderItem.OrderNum=OrderSale.OrderNum
INNER JOIN StockableItems
ON OrderItem.ItemID=StockableItems.ItemID
GROUP BY OrderItem.ItemID, MONTH(OrderSale.TimeStamp)
ORDER BY OrderSale.TimeStamp;